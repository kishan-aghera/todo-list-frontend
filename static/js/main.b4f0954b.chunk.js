(this["webpackJsonptodo-list-frontend"]=this["webpackJsonptodo-list-frontend"]||[]).push([[0],{45:function(e,t,n){},64:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(19),i=n.n(s),r=(n(45),n(18)),o=n(9),d=n(16),l=n(7),u=n(10),j=n.n(u),h=(n(64),n(83)),b=n(84),O=n(85),g=n(86),f=n(87),p=n(88),x=n(80),m=n(81),v=n(82),k=n(2),L=function(e){var t=Object(a.useState)(""),n=Object(o.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)(""),r=Object(o.a)(i,2),d=r[0],l=r[1],u=Object(a.useState)(""),b=Object(o.a)(u,2),O=b[0],g=b[1];return Object(k.jsx)("div",{children:Object(k.jsxs)(x.a,{onSubmit:function(t){j.a.post("https://todo-list-rails-api.herokuapp.com/registrations",{user:{email:c,password:d,password_confirmation:O}},{withCredentials:!0}).then((function(t){"created"===t.data.status&&e.handleSuccessfulAuth(t.data)})).catch((function(e){console.log("Registration Error: ",e)})),t.preventDefault()},children:[Object(k.jsx)(m.a,{children:Object(k.jsx)(v.a,{type:"email",name:"email",placeholder:"Email",value:c,onChange:function(e){s(e.target.value)},required:!0})}),Object(k.jsx)(m.a,{children:Object(k.jsx)(v.a,{type:"password",name:"password",placeholder:"Password",value:d,onChange:function(e){l(e.target.value)},required:!0})}),Object(k.jsx)(m.a,{children:Object(k.jsx)(v.a,{type:"password",name:"password_confirmation",placeholder:"Password Confirmation",value:O,onChange:function(e){g(e.target.value)},required:!0})}),Object(k.jsx)(h.a,{color:"primary",type:"submit",children:"Register"})]})})},w=function(e){var t=Object(a.useState)(""),n=Object(o.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)(""),r=Object(o.a)(i,2),d=r[0],l=r[1];return Object(k.jsx)("div",{children:Object(k.jsxs)(x.a,{onSubmit:function(t){j.a.post("https://todo-list-rails-api.herokuapp.com/sessions",{user:{email:c,password:d}},{withCredentials:!0}).then((function(t){t.data.logged_in?e.handleSuccessfulAuth(t.data):alert("User does not exist. Please Register first.")})).catch((function(e){console.log("Login Error: ",e)})),t.preventDefault()},children:[Object(k.jsx)(m.a,{children:Object(k.jsx)(v.a,{type:"email",name:"email",placeholder:"Email",value:c,onChange:function(e){s(e.target.value)},required:!0})}),Object(k.jsx)(m.a,{children:Object(k.jsx)(v.a,{type:"password",name:"password",placeholder:"Password",value:d,onChange:function(e){l(e.target.value)},required:!0})}),Object(k.jsx)(h.a,{type:"submit",children:"Login"})]})})},_=function(e){var t=Object(l.f)(),n=function(n){e.handleLogin(n),t.push("/todo-list-frontend/dashboard")};return Object(k.jsx)("div",{children:e.isLoggedIn?Object(k.jsx)(h.a,{color:"danger",onClick:function(){j.a.delete("https://todo-list-rails-api.herokuapp.com/logout",{withCredentials:!0}).then((function(n){t.push("/todo-list-frontend"),e.handleLogout()})).catch((function(e){console.log("Logout Error: ",e)}))},children:"Logout"}):Object(k.jsx)(b.a,{children:Object(k.jsxs)(O.a,{xs:"5",children:[Object(k.jsx)(g.a,{sm:"6",children:Object(k.jsxs)(f.a,{children:[Object(k.jsx)(p.a,{tag:"h5",children:"Registration"}),Object(k.jsx)(L,{handleSuccessfulAuth:n})]})}),Object(k.jsx)(g.a,{sm:"6",children:Object(k.jsxs)(f.a,{children:[Object(k.jsx)(p.a,{tag:"h5",children:"Login"}),Object(k.jsx)(w,{handleSuccessfulAuth:n})]})})]})})})},S=n(89),C=n(90),y=n(91),I=n(92),E=n(93),T=function(e){return Object(k.jsx)("div",{children:Object(k.jsxs)(S.a,{color:"light",light:!0,expand:"md",children:[Object(k.jsx)(C.a,{href:"https://kishan-aghera.github.io/todo-list-frontend/",children:"To-do List"}),Object(k.jsxs)(y.a,{className:"mr-auto",navbar:!0,children:[e.isLoggedIn?Object(k.jsx)(I.a,{children:Object(k.jsx)(E.a,{href:"/todo-list-frontend/dashboard",children:"Dashboard"})}):null,Object(k.jsx)(I.a,{children:Object(k.jsx)(E.a,{target:"_blank",href:"https://github.com/kishan-aghera/todo-list-frontend",children:"Frontend React App Github"})}),Object(k.jsx)(I.a,{children:Object(k.jsx)(E.a,{target:"_blank",href:"https://github.com/kishan-aghera/todo-list-backend",children:"Backend Rails API Github"})})]})]})})},A=n(26),H=n(95),N=function(){return Object(k.jsx)(b.a,{children:Object(k.jsxs)(H.a,{color:"danger",children:["Please Login and then you can use this feature.",Object(k.jsx)("br",{}),"You can get Login or Register by visiting the following link.",Object(k.jsx)("br",{}),Object(k.jsx)(d.b,{to:"/todo-list-frontend",children:"Home"})]})})},F=function(e){var t=Object(a.useState)(""),n=Object(o.a)(t,2),c=n[0],s=n[1];return Object(a.useEffect)((function(){s(e.existingName)}),[e.existingName]),Object(k.jsx)(a.Fragment,{children:e.isLoggedIn&&e.user_id?Object(k.jsxs)("form",{onSubmit:e.isEdit?function(t){t.preventDefault(),e.updateTaskHandler(c),s("")}:function(t){t.preventDefault(),e.addNewTaskHandler(c),s("")},children:[Object(k.jsx)("input",{type:"text",value:c,placeholder:"Task Name",onChange:function(e){s(e.target.value)},required:!0}),Object(k.jsx)(h.a,{color:"info",type:"submit",children:e.isEdit?"Update Task":"Add Task"})]}):Object(k.jsx)(N,{})})},P=n(94),D=function(e){var t={padding:"7px",margin:"7px 0"};return Object(k.jsx)(b.a,{children:Object(k.jsx)(f.a,{children:Object(k.jsxs)(O.a,{children:[Object(k.jsx)(g.a,{xs:"6",children:Object(k.jsx)(P.a,{tag:"h5",style:t,children:e.name})}),Object(k.jsx)(g.a,{children:Object(k.jsx)(h.a,{color:"secondary",style:t,onClick:function(){return e.updateHandler(e.id,e.name,e.user_id,e.i)},children:"Update"})}),Object(k.jsx)(g.a,{children:Object(k.jsx)(h.a,{color:"danger",style:t,onClick:function(){return e.deleteHandler(e.id,e.i)},children:"Delete"})})]})})})},R=function(e){var t=Object(a.useState)([]),n=Object(o.a)(t,2),c=n[0],s=n[1],i=Object(l.f)(),r=Object(a.useState)(!1),d=Object(o.a)(r,2),u=d[0],O=d[1],g=Object(a.useState)(0),f=Object(o.a)(g,2),p=f[0],x=f[1],m=Object(a.useState)(""),v=Object(o.a)(m,2),L=v[0],w=v[1],_=Object(a.useState)(!0),S=Object(o.a)(_,2),C=S[0],y=S[1],I=function(){return Object(k.jsx)(H.a,{color:"danger",children:"No Tasks Found!"})};Object(a.useEffect)((function(){e.isLoggedIn&&j.a.get("https://todo-list-rails-api.herokuapp.com/users/".concat(e.user_id,"/tasks")).then((function(t){if(404===t.data.status&&e.isLoggedIn)y(!0),I();else{y(!1);var n=Array.from(t.data).map((function(e){return{id:e.id,name:e.name,user_id:e.user_id}}));s(n)}}))}),[u,C,e.user_id,e.isLoggedIn]);var E=function(e,t){O(!0),x(+e),w(t)},T=function(t,n){j.a.delete("https://todo-list-rails-api.herokuapp.com/users/".concat(e.user_id,"/tasks/").concat(t)).then((function(){s((function(e){if(0!==e.length){y(!1);var t=Object(A.a)(e);return t.splice(n,1),0===t.length?(y(!0),[]):(y(!1),t)}return y(!0),[]}))}))},P=0!==c.length?c.map((function(t,n){return Object(k.jsx)("div",{children:Object(k.jsx)(D,{id:t.id,i:n,name:t.name,updateHandler:E,deleteHandler:T,user_id:e.user_id},t.id)},t.id)})):C?I():null;return Object(k.jsx)(a.Fragment,{children:e.isLoggedIn?Object(k.jsxs)(b.a,{children:[Object(k.jsx)("div",{children:e.isLoggedIn&&e.user_id&&Object(k.jsx)(h.a,{color:"danger",onClick:function(){j.a.delete("https://todo-list-rails-api.herokuapp.com/logout",{withCredentials:!0}).then((function(){e.handleLogout(),i.push("/todo-list-frontend")})).catch((function(e){console.log("Logout Error",e)}))},children:"Logout"})}),Object(k.jsx)("div",{children:Object(k.jsx)(F,{id:p,existingName:L,isEdit:u,user_id:e.user_id,isLoggedIn:e.isLoggedIn,tasks:c,addNewTaskHandler:function(t){var n={name:t};j.a.post("https://todo-list-rails-api.herokuapp.com/users/".concat(e.user_id,"/tasks"),n).then((function(e){var t=[].concat(Object(A.a)(c),[e.data]);s(t)})).catch((function(e){console.log("Adding new Task error: ",e)}))},updateTaskHandler:function(t){var n={name:t};j.a.put("https://todo-list-rails-api.herokuapp.com/users/".concat(e.user_id,"/tasks/").concat(p),n).then((function(){O(!1)}))}})}),Object(k.jsx)("br",{}),P]}):Object(k.jsx)(N,{})})},q=function(){var e=Object(a.useState)({}),t=Object(o.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(!1),i=Object(o.a)(s,2),u=i[0],h=i[1];Object(a.useEffect)((function(){j.a.get("https://todo-list-rails-api.herokuapp.com/logged_in",{withCredentials:!0}).then((function(e){e.data.logged_in&&!u?(h(!0),c(e.data.user)):!e.data.logged_in&u&&(h(!1),c({}))})).catch((function(e){console.log("Check Login Error: ",e)}))}),[u]);var b=function(e){h(!0),c(e.user)},O=function(){h(!1),c({})};return Object(k.jsxs)("div",{className:"App",children:[Object(k.jsx)(T,{isLoggedIn:u}),Object(k.jsx)("br",{}),Object(k.jsx)(d.a,{children:Object(k.jsxs)(l.c,{children:[Object(k.jsx)(l.a,{exact:!0,path:"/todo-list-frontend/dashboard",render:function(e){return Object(k.jsx)(R,Object(r.a)(Object(r.a)({},e),{},{handleLogout:O,user_id:n.id,isLoggedIn:u}))}}),Object(k.jsx)(l.a,{exact:!0,path:"/todo-list-frontend",render:function(e){return Object(k.jsx)(_,Object(r.a)(Object(r.a)({},e),{},{handleLogin:b,handleLogout:O}))}})]})})]})},B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,96)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),s(e),i(e)}))};n(78);i.a.render(Object(k.jsx)(c.a.StrictMode,{children:Object(k.jsx)(q,{})}),document.getElementById("root")),B()}},[[79,1,2]]]);
//# sourceMappingURL=main.b4f0954b.chunk.js.map